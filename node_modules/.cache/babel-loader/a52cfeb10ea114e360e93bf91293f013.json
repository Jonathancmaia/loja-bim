{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction IsAuthenticated() {\n  const isLogged = () => {\n    const access_token = localStorage.getItem('access_token');\n\n    if (access_token) {\n      fetch('http://api-lojabim.test/api/login', {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Requested-With': 'XMLHttpRequest',\n          'Authorization': access_token\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      }).then(response => {\n        return response.json();\n      }).then(json => {\n        console.log(json);\n\n        if (json.error) {\n          alert('Erro no login.');\n        } else {\n          localStorage.setItem('access_token', json.access_token);\n          window.location.href = \"http://localhost:3000/Items\";\n        }\n      });\n    } else {\n      return false;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLogged()\n  }, void 0, false);\n}\n\n_c = IsAuthenticated;\nexport { IsAuthenticated };\n\nvar _c;\n\n$RefreshReg$(_c, \"IsAuthenticated\");","map":{"version":3,"sources":["C:/laragon/www/loja-bim/src/Api/Auth.js"],"names":["IsAuthenticated","isLogged","access_token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","email","password","then","response","json","console","log","error","alert","setItem","window","location","href"],"mappings":";;;AAAA,SAASA,eAAT,GAA0B;AAExB,QAAMC,QAAQ,GAAG,MAAM;AACrB,UAAMC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAArB;;AAEA,QAAIF,YAAJ,EAAiB;AACfG,MAAAA,KAAK,CAAC,mCAAD,EAAsC;AAC3CC,QAAAA,MAAM,EAAE,KADmC;AAE3CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,8BAAoB,gBAFb;AAGP,2BAAiBL;AAHV,SAFkC;AAO3CM,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,KADmB;AAEnBC,UAAAA;AAFmB,SAAf;AAPqC,OAAtC,CAAL,CAWCC,IAXD,CAWOC,QAAD,IAAc;AACpB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,OAbC,EAaCF,IAbD,CAaOE,IAAD,IAAQ;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,YAAIA,IAAI,CAACG,KAAT,EAAe;AACbC,UAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,SAFD,MAEO;AACLhB,UAAAA,YAAY,CAACiB,OAAb,CAAqB,cAArB,EAAqCL,IAAI,CAACb,YAA1C;AACAmB,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,6BAAvB;AACD;AACF,OArBC;AAsBD,KAvBD,MAuBO;AACL,aAAO,KAAP;AACD;AACF,GA7BD;;AA+BA,sBACE;AAAA,cACGtB,QAAQ;AADX,mBADF;AAKD;;KAtCQD,e;AAwCT,SAAQA,eAAR","sourcesContent":["function IsAuthenticated(){\r\n\r\n  const isLogged = () => {\r\n    const access_token = localStorage.getItem('access_token');\r\n\r\n    if (access_token){\r\n      fetch('http://api-lojabim.test/api/login', {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-Requested-With': 'XMLHttpRequest',\r\n        'Authorization': access_token\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then((response) => {\r\n      return response.json();\r\n    }).then((json)=>{\r\n      console.log(json);\r\n      if (json.error){\r\n        alert('Erro no login.');\r\n      } else {\r\n        localStorage.setItem('access_token', json.access_token);\r\n        window.location.href = \"http://localhost:3000/Items\";\r\n      }\r\n    });\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLogged()}\r\n    </>\r\n  );\r\n}\r\n\r\nexport {IsAuthenticated};"]},"metadata":{},"sourceType":"module"}