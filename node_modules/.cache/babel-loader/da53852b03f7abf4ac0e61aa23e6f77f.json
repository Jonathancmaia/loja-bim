{"ast":null,"code":"import { actionTypes } from '../actions/cart.action';\nconst initialState = {\n  ITEMS: [],\n  ACTIVE: null\n};\nexport default ((state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    //REDUCER ADICIONAR ITEM DO CARRINHO\n    case actionTypes.ADD_ITEM:\n      let arr_items = state.ITEMS;\n      let items = state.ITEMS.findIndex(item => item.id == payload.id);\n      let tam = payload.tamanho;\n\n      if (items < 0) {\n        arr_items.push({\n          id: payload.id,\n          qtd: payload.qtd,\n          img: payload.img,\n          nome: payload.desc,\n          preco: payload.preco,\n          tamanho: tam\n        });\n      } else if (items > 0) {\n        console.log(\"IGUAL \" + \"enviado: \" + tam + \", arquivado: \" + state.ITEMS[items].tamanho);\n        state.ITEMS[items].qtd = state.ITEMS[items].qtd + 1;\n      } else {\n        arr_items.push({\n          id: payload.id,\n          qtd: payload.qtd,\n          img: payload.img,\n          nome: payload.desc,\n          preco: payload.preco,\n          tamanho: tam\n        });\n      }\n\n      return { ...state,\n        ITEMS: arr_items\n      };\n    //!REDUCER ADICIONAR ITEM DO CARRINHO\n    //REDUCER REMOVER ITEM DO CARRINHO\n\n    case actionTypes.REMOVE_ITEM:\n      let remove_arr_items = state.ITEMS;\n      let remove_items = state.ITEMS.findIndex(item => item.id == payload.id && item.tamanho == payload.tamanho);\n\n      if (state.ITEMS[remove_items].qtd < 2) {\n        remove_arr_items.splice(remove_items, 1);\n      } else {\n        state.ITEMS[remove_items].qtd = state.ITEMS[remove_items].qtd - 1;\n      }\n\n      return { ...state,\n        ITEMS: remove_arr_items\n      };\n    //!REDUCER REMOVER ITEM DO CARRINHO\n\n    case actionTypes.SET_CART:\n      localStorage.removeItem('storeCart');\n      localStorage.setItem('storeCart', JSON.stringify(state.ITEMS));\n\n    case actionTypes.GET_CART:\n      let cart = localStorage.getItem('storeCart');\n\n      if (cart !== null) {\n        return { ...state,\n          ITEMS: JSON.parse(cart)\n        };\n      }\n\n    case actionTypes.SET_ACTIVE:\n      if (state.ACTIVE !== null) {\n        if (state.ACTIVE === false) {\n          return { ...state,\n            ACTIVE: true\n          };\n        } else if (state.ACTIVE === true) {\n          return { ...state,\n            ACTIVE: false\n          };\n        }\n      } else {\n        return { ...state,\n          ACTIVE: true\n        };\n      }\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/laragon/www/loja-bim/src/store/reducers/cart.reducer.js"],"names":["actionTypes","initialState","ITEMS","ACTIVE","state","type","payload","ADD_ITEM","arr_items","items","findIndex","item","id","tam","tamanho","push","qtd","img","nome","desc","preco","console","log","REMOVE_ITEM","remove_arr_items","remove_items","splice","SET_CART","localStorage","removeItem","setItem","JSON","stringify","GET_CART","cart","getItem","parse","SET_ACTIVE"],"mappings":"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","sourcesContent":["import { actionTypes } from '../actions/cart.action';\r\n\r\nconst initialState = {\r\n  ITEMS: [],\r\n  ACTIVE: null\r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n  switch (type){\r\n\r\n    //REDUCER ADICIONAR ITEM DO CARRINHO\r\n    case actionTypes.ADD_ITEM:\r\n      let arr_items = state.ITEMS;\r\n      let items = state.ITEMS.findIndex( item => item.id == payload.id );\r\n      let tam = payload.tamanho;\r\n\r\n      if(items < 0) {\r\n         \r\n        arr_items.push({\r\n          id: payload.id,\r\n          qtd: payload.qtd,\r\n          img: payload.img,\r\n          nome: payload.desc,\r\n          preco: payload.preco,\r\n          tamanho: tam\r\n        });\r\n        \r\n      } else if (items > 0) {\r\n        console.log(\"IGUAL \"+\"enviado: \"+tam+\", arquivado: \"+state.ITEMS[items].tamanho)\r\n        state.ITEMS[items].qtd = state.ITEMS[items].qtd + 1;\r\n\r\n      } else {\r\n        \r\n        arr_items.push({\r\n          id: payload.id,\r\n          qtd: payload.qtd,\r\n          img: payload.img,\r\n          nome: payload.desc,\r\n          preco: payload.preco,\r\n          tamanho: tam\r\n        });\r\n        \r\n      }\r\n\r\n      return {...state, ITEMS:  arr_items}\r\n    //!REDUCER ADICIONAR ITEM DO CARRINHO\r\n    \r\n    //REDUCER REMOVER ITEM DO CARRINHO\r\n    case actionTypes.REMOVE_ITEM:\r\n      let remove_arr_items = state.ITEMS;\r\n      let remove_items = state.ITEMS.findIndex( item => item.id == payload.id && item.tamanho == payload.tamanho );\r\n\r\n      if(state.ITEMS[remove_items].qtd < 2) {\r\n        remove_arr_items.splice(remove_items, 1);\r\n      } else {\r\n        state.ITEMS[remove_items].qtd = state.ITEMS[remove_items].qtd - 1;\r\n      }\r\n\r\n      return {...state, ITEMS:  remove_arr_items}\r\n    //!REDUCER REMOVER ITEM DO CARRINHO\r\n\r\n    case actionTypes.SET_CART:\r\n      localStorage.removeItem('storeCart');\r\n      localStorage.setItem('storeCart', JSON.stringify(state.ITEMS));\r\n\r\n    case actionTypes.GET_CART:\r\n      let cart = localStorage.getItem('storeCart');\r\n      if (cart !== null) {\r\n        return {...state, ITEMS: JSON.parse(cart)}\r\n      }\r\n\r\n    case actionTypes.SET_ACTIVE:\r\n\r\n      if (state.ACTIVE !== null) {\r\n        if (state.ACTIVE === false) {\r\n          return {...state, ACTIVE: true}\r\n        } else if (state.ACTIVE === true) {\r\n          return {...state, ACTIVE: false}\r\n        }\r\n      } else {\r\n        return {...state, ACTIVE: true}\r\n      }\r\n      \r\n      \r\n\r\n    default:\r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}