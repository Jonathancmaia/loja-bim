{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\loja-bim\\\\src\\\\Api\\\\endpoints\\\\LoginApi.js\",\n    _s = $RefreshSig$();\n\nimport react, { redirect } from 'react';\nimport { Route } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LoginApi = () => {\n  _s();\n\n  const [email, setEmail] = react.useState('');\n  const [password, setPassword] = react.useState('');\n  const [redirect, setRedirect] = react.useState(false);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    fetch('http://api-lojabim.test/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(response => {\n      return response.json();\n    }).then(json => {\n      console.log(json);\n\n      if (json.error) {\n        alert('Erro no login.');\n      } else {\n        localStorage.setItem('access_token', json.access_token);\n        setRedirect(true);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/Login\",\n      children: Redirect ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: email,\n      onChange: ({\n        target\n      }) => setEmail(target.value),\n      placeholder: \"email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: password,\n      onChange: ({\n        target\n      }) => setPassword(target.value),\n      placeholder: \"password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Enviar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginApi, \"QQ1Kot1GNnZtw2fbuFp5WQMdMbo=\");\n\n_c = LoginApi;\nexport default LoginApi;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginApi\");","map":{"version":3,"sources":["C:/laragon/www/loja-bim/src/Api/endpoints/LoginApi.js"],"names":["react","redirect","Route","LoginApi","email","setEmail","useState","password","setPassword","setRedirect","handleSubmit","event","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","error","alert","localStorage","setItem","access_token","Redirect","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,QAAsB,kBAAtB;;;;AAEA,MAAMC,QAAQ,GAAG,MAAI;AAAA;;AACnB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,KAAK,CAACM,QAAN,CAAe,EAAf,CAA1B;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,KAAK,CAACM,QAAN,CAAe,EAAf,CAAhC;AAEA,QAAM,CAACL,QAAD,EAAWQ,WAAX,IAA0BT,KAAK,CAACM,QAAN,CAAe,KAAf,CAAhC;;AAEA,WAASI,YAAT,CAAsBC,KAAtB,EAA4B;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AACAC,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AACzCC,MAAAA,MAAM,EAAE,MADiC;AAEzCC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,4BAAoB;AAFb,OAFgC;AAMzCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBd,QAAAA,KADmB;AAEnBG,QAAAA;AAFmB,OAAf;AANmC,KAAtC,CAAL,CAUGY,IAVH,CAUSC,QAAD,IAAc;AACpB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAZD,EAYGF,IAZH,CAYSE,IAAD,IAAQ;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,UAAIA,IAAI,CAACG,KAAT,EAAe;AACbC,QAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,OAFD,MAEO;AACLC,QAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCN,IAAI,CAACO,YAA1C;AACAnB,QAAAA,WAAW,CAAC,IAAD,CAAX;AACD;AACF,KApBD;AAqBD;;AAED,sBACE;AAAM,IAAA,QAAQ,EAAEC,YAAhB;AAAA,4BAEI,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,QAAlB;AAAA,gBACGmB,QAAQ,gBAAG,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAH,gBAA8B;AADzC;AAAA;AAAA;AAAA;AAAA,YAFJ,eAME;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAEzB,KAA1B;AAAiC,MAAA,QAAQ,EAAE,CAAC;AAAC0B,QAAAA;AAAD,OAAD,KAAczB,QAAQ,CAACyB,MAAM,CAACC,KAAR,CAAjE;AAAiF,MAAA,WAAW,EAAC;AAA7F;AAAA;AAAA;AAAA;AAAA,YANF,eAQE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAExB,QAA1B;AAAoC,MAAA,QAAQ,EAAE,CAAC;AAACuB,QAAAA;AAAD,OAAD,KAActB,WAAW,CAACsB,MAAM,CAACC,KAAR,CAAvE;AAAuF,MAAA,WAAW,EAAC;AAAnG;AAAA;AAAA;AAAA;AAAA,YARF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD,CA7CD;;GAAM5B,Q;;KAAAA,Q;AA+CN,eAAeA,QAAf","sourcesContent":["import react, { redirect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nconst LoginApi = ()=>{\r\n  const [email, setEmail] = react.useState('');\r\n  const [password, setPassword] = react.useState('');\r\n\r\n  const [redirect, setRedirect] = react.useState(false);\r\n  \r\n  function handleSubmit(event){\r\n    event.preventDefault();\r\n    fetch('http://api-lojabim.test/api/login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'X-Requested-With': 'XMLHttpRequest'\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password\r\n      })\r\n    }).then((response) => {\r\n      return response.json();\r\n    }).then((json)=>{\r\n      console.log(json);\r\n      if (json.error){\r\n        alert('Erro no login.');\r\n      } else {\r\n        localStorage.setItem('access_token', json.access_token);\r\n        setRedirect(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  return(\r\n    <form onSubmit={handleSubmit}>\r\n      {\r\n        <Route exact path='/Login'>\r\n          {Redirect ? <Redirect to=\"/Items\" /> : <></>}\r\n        </Route>\r\n      }\r\n      <input type='text' value={email} onChange={({target}) => setEmail(target.value)} placeholder='email'/>\r\n\r\n      <input type='text' value={password} onChange={({target}) => setPassword(target.value)} placeholder='password'/>\r\n\r\n      <button>Enviar</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginApi;"]},"metadata":{},"sourceType":"module"}