{"ast":null,"code":"import _slicedToArray from\"C:/laragon/www/loja-bim/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from\"react-router-dom\";import style from\"./style.css\";import PersonIcon from'@material-ui/icons/Person';import ShoppingCartIcon from'@material-ui/icons/ShoppingCart';import{index}from'../../store/actions/me.action';import{useSelector,useDispatch}from\"react-redux\";import{useEffect,useState}from'react';import{CircularProgress}from'@material-ui/core';import Cart from'../cart';import{set_active}from'../../store/actions/cart.action';import Auth from'../auth';import{Navbar,Nav,Popover,OverlayTrigger,Button,ListGroup}from'react-bootstrap';import Encomendas from'../encomendas';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(){var me=useSelector(function(state){return state.Me;});var cart=useSelector(function(state){return state.Cart;});var dispatch=useDispatch();function indexCall(){dispatch(index());}useEffect(function(){indexCall();},[me.NAME]);function logout(){localStorage.clear();window.location.reload();}//ABERTURA E FECHAMENTO DO LOGIN\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),opened=_useState2[0],setOpened=_useState2[1];//Popover do login\nvar popover=/*#__PURE__*/_jsxs(Popover,{id:\"popover-basic\",children:[/*#__PURE__*/_jsx(Popover.Title,{as:\"h3\",children:\"Op\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(Popover.Content,{children:/*#__PURE__*/_jsxs(ListGroup,{children:[/*#__PURE__*/_jsx(Encomendas,{}),/*#__PURE__*/_jsx(ListGroup.Item,{children:\"Mudar senha\"}),/*#__PURE__*/_jsx(ListGroup.Item,{action:true,onClick:logout,children:\"Logout\"})]})})]});var Usuario=function Usuario(){return/*#__PURE__*/_jsx(OverlayTrigger,{trigger:\"click\",placement:\"bottom\",overlay:popover,children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",children:[\"Ol\\xE1, \",me.NAME]})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Auth,{opened:opened}),/*#__PURE__*/_jsxs(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"md\",className:\"navbar\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{className:\"logo\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Nozes Trump\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"navbar\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"navbar\",className:\"justify-content-end\",children:/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(Nav.Link,{href:\"#\",children:me.LOADING?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex jultify-content-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",children:/*#__PURE__*/_jsx(CircularProgress,{})})}):/*#__PURE__*/_jsx(_Fragment,{children:me.NAME?/*#__PURE__*/_jsx(Usuario,{}):/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",className:\"loginButton\",onClick:function onClick(e){setOpened(true);setTimeout(function(){setOpened();},3000);},children:[/*#__PURE__*/_jsx(PersonIcon,{fontSize:\"default\"}),\"Login\"]})})}),/*#__PURE__*/_jsx(Nav.Link,{href:\"#\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-secondary\",onClick:function onClick(e){dispatch(set_active(true));},children:[/*#__PURE__*/_jsx(ShoppingCartIcon,{fontSize:\"default\"}),\" Carrinho\"]})})]})})]})]});}","map":{"version":3,"sources":["C:/laragon/www/loja-bim/src/view/header/index.js"],"names":["Link","style","PersonIcon","ShoppingCartIcon","index","useSelector","useDispatch","useEffect","useState","CircularProgress","Cart","set_active","Auth","Navbar","Nav","Popover","OverlayTrigger","Button","ListGroup","Encomendas","Header","me","state","Me","cart","dispatch","indexCall","NAME","logout","localStorage","clear","window","location","reload","opened","setOpened","popover","Usuario","LOADING","e","setTimeout"],"mappings":"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","sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport style from \"./style.css\";\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { index } from '../../store/actions/me.action';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useEffect, useState } from 'react';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport Cart from '../cart';\r\nimport { set_active } from '../../store/actions/cart.action';\r\nimport Auth from '../auth';\r\nimport { Navbar, Nav, Popover, OverlayTrigger, Button, ListGroup } from 'react-bootstrap';\r\nimport Encomendas from '../encomendas';\r\n\r\n\r\nexport default function Header() {\r\n\r\n  const me = useSelector (state => state.Me);\r\n  const cart = useSelector(state => state.Cart);\r\n  const dispatch = useDispatch();\r\n\r\n  function indexCall () {\r\n    dispatch( index() );\r\n  }\r\n\r\n  useEffect( () => {\r\n    indexCall();\r\n  }, [me.NAME]);\r\n\r\n  function logout() {\r\n    localStorage.clear();\r\n    window.location.reload();\r\n  }\r\n\r\n  //ABERTURA E FECHAMENTO DO LOGIN\r\n  const [opened, setOpened] = useState();\r\n\r\n  //Popover do login\r\n  const popover = (\r\n    <Popover id=\"popover-basic\">\r\n      <Popover.Title as=\"h3\">Opções</Popover.Title>\r\n      <Popover.Content>\r\n        <ListGroup>\r\n          <Encomendas />\r\n          <ListGroup.Item>Mudar senha</ListGroup.Item>\r\n          <ListGroup.Item action onClick={logout}>\r\n            Logout\r\n          </ListGroup.Item>\r\n        </ListGroup>\r\n      </Popover.Content>\r\n    </Popover>\r\n  );\r\n  \r\n  const Usuario = () => (\r\n    <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={popover}>\r\n      <Button variant=\"outline-secondary\">Olá, {me.NAME}</Button>\r\n    </OverlayTrigger>\r\n  );\r\n\r\n\r\n  return (\r\n    <>\r\n      <Cart />\r\n      <Auth opened = {opened} />\r\n\r\n        <Navbar bg=\"dark\" variant=\"dark\" expand=\"md\" className='navbar'>\r\n          <Navbar.Brand className='logo'>\r\n            <h3>\r\n              Nozes Trump\r\n            </h3>\r\n          </Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"navbar\" />\r\n          <Navbar.Collapse id=\"navbar\" className=\"justify-content-end\">\r\n            <Nav>\r\n              <Nav.Link href='#'>\r\n                {(me.LOADING) ?\r\n                  <div className=\"d-flex jultify-content-center\">\r\n                    <Button variant=\"outline-secondary\">\r\n                      <CircularProgress />\r\n                    </Button>\r\n                  </div>\r\n                  :\r\n                  <>{(me.NAME) ?\r\n                      <Usuario />                  \r\n                      :\r\n                      <Button\r\n                      variant=\"outline-secondary\"\r\n                      className='loginButton'\r\n                      onClick={\r\n                        (e) => { \r\n                          setOpened(true);\r\n                          setTimeout(()=>{setOpened()}, 3000);\r\n                        }\r\n                      }>\r\n                        <PersonIcon fontSize='default'/>\r\n                        Login\r\n                      </Button>\r\n                    }\r\n                  </>\r\n                }\r\n              </Nav.Link>\r\n\r\n              <Nav.Link href='#'>\r\n                <Button variant=\"outline-secondary\"\r\n                  onClick={(e)=>{\r\n                    dispatch( set_active(true) );\r\n                  }\r\n                }>\r\n                  <ShoppingCartIcon fontSize='default'/> Carrinho\r\n                </Button>\r\n              </Nav.Link>\r\n            </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>  \r\n    </>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}