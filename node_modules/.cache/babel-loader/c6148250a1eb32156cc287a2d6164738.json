{"ast":null,"code":"import _objectSpread from\"C:/laragon/www/loja-bim/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{actionTypes}from'../actions/cart.action';var initialState={ITEMS:[],ACTIVE:null};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var _ref=arguments.length>1?arguments[1]:undefined,type=_ref.type,payload=_ref.payload;switch(type){//REDUCER ADICIONAR ITEM DO CARRINHO\ncase actionTypes.ADD_ITEM:var arr_items=state.ITEMS;var items=state.ITEMS.findIndex(function(item){return item.id===payload.id&&item.tamanho===payload.tamanho;});var tam=payload.tamanho;if(items<0){arr_items.push({id:payload.id,qtd:payload.qtd,img:payload.img,nome:payload.desc,preco:payload.preco,tamanho:tam});}else{state.ITEMS[items].qtd=state.ITEMS[items].qtd+1;}return _objectSpread(_objectSpread({},state),{},{ITEMS:arr_items});//!REDUCER ADICIONAR ITEM DO CARRINHO\n//REDUCER REMOVER ITEM DO CARRINHO\ncase actionTypes.REMOVE_ITEM:var remove_arr_items=state.ITEMS;var remove_items=state.ITEMS.findIndex(function(item){return item.id==payload.id&&item.tamanho==payload.tamanho;});if(state.ITEMS[remove_items].qtd<2){remove_arr_items.splice(remove_items,1);}else{state.ITEMS[remove_items].qtd=state.ITEMS[remove_items].qtd-1;}return _objectSpread(_objectSpread({},state),{},{ITEMS:remove_arr_items});//!REDUCER REMOVER ITEM DO CARRINHO\ncase actionTypes.SET_CART:localStorage.removeItem('storeCart');localStorage.setItem('storeCart',JSON.stringify(state.ITEMS));case actionTypes.GET_CART:var cart=localStorage.getItem('storeCart');if(cart!==null){return _objectSpread(_objectSpread({},state),{},{ITEMS:JSON.parse(cart)});}case actionTypes.SET_ACTIVE:if(state.ACTIVE!==null){if(state.ACTIVE===false){return _objectSpread(_objectSpread({},state),{},{ACTIVE:true});}else if(state.ACTIVE===true){return _objectSpread(_objectSpread({},state),{},{ACTIVE:false});}}else if(state.ACTIVE===false){return _objectSpread(_objectSpread({},state),{},{ACTIVE:true});}else if(state.ACTIVE===null){if(payload){return _objectSpread(_objectSpread({},state),{},{ACTIVE:true});}else if(!payload){return _objectSpread(_objectSpread({},state),{},{ACTIVE:false});}}default:return state;}});","map":{"version":3,"sources":["C:/laragon/www/loja-bim/src/store/reducers/cart.reducer.js"],"names":["actionTypes","initialState","ITEMS","ACTIVE","state","type","payload","ADD_ITEM","arr_items","items","findIndex","item","id","tamanho","tam","push","qtd","img","nome","desc","preco","REMOVE_ITEM","remove_arr_items","remove_items","splice","SET_CART","localStorage","removeItem","setItem","JSON","stringify","GET_CART","cart","getItem","parse","SET_ACTIVE"],"mappings":"6IAAA,OAASA,WAAT,KAA4B,wBAA5B,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,KAAK,CAAE,EADY,CAEnBC,MAAM,CAAE,IAFW,CAArB,CAKA,eAAe,UAA2C,IAA1CC,CAAAA,KAA0C,2DAAlCH,YAAkC,oDAAnBI,IAAmB,MAAnBA,IAAmB,CAAbC,OAAa,MAAbA,OAAa,CACxD,OAAQD,IAAR,EAEE;AACA,IAAKL,CAAAA,WAAW,CAACO,QAAjB,CACE,GAAIC,CAAAA,SAAS,CAAGJ,KAAK,CAACF,KAAtB,CACA,GAAIO,CAAAA,KAAK,CAAGL,KAAK,CAACF,KAAN,CAAYQ,SAAZ,CACV,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,GAAYN,OAAO,CAACM,EAApB,EAA0BD,IAAI,CAACE,OAAL,GAAiBP,OAAO,CAACO,OAAvD,EADM,CAAZ,CAGA,GAAIC,CAAAA,GAAG,CAAGR,OAAO,CAACO,OAAlB,CAEA,GAAGJ,KAAK,CAAG,CAAX,CAAc,CAEZD,SAAS,CAACO,IAAV,CAAe,CACbH,EAAE,CAAEN,OAAO,CAACM,EADC,CAEbI,GAAG,CAAEV,OAAO,CAACU,GAFA,CAGbC,GAAG,CAAEX,OAAO,CAACW,GAHA,CAIbC,IAAI,CAAEZ,OAAO,CAACa,IAJD,CAKbC,KAAK,CAAEd,OAAO,CAACc,KALF,CAMbP,OAAO,CAAEC,GANI,CAAf,EASD,CAXD,IAWO,CAELV,KAAK,CAACF,KAAN,CAAYO,KAAZ,EAAmBO,GAAnB,CAAyBZ,KAAK,CAACF,KAAN,CAAYO,KAAZ,EAAmBO,GAAnB,CAAyB,CAAlD,CAED,CAED,sCAAWZ,KAAX,MAAkBF,KAAK,CAAGM,SAA1B,GACF;AAEA;AACA,IAAKR,CAAAA,WAAW,CAACqB,WAAjB,CACE,GAAIC,CAAAA,gBAAgB,CAAGlB,KAAK,CAACF,KAA7B,CACA,GAAIqB,CAAAA,YAAY,CAAGnB,KAAK,CAACF,KAAN,CAAYQ,SAAZ,CACjB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,EAAL,EAAWN,OAAO,CAACM,EAAnB,EAAyBD,IAAI,CAACE,OAAL,EAAgBP,OAAO,CAACO,OAArD,EADa,CAAnB,CAIA,GAAGT,KAAK,CAACF,KAAN,CAAYqB,YAAZ,EAA0BP,GAA1B,CAAgC,CAAnC,CAAsC,CACpCM,gBAAgB,CAACE,MAAjB,CAAwBD,YAAxB,CAAsC,CAAtC,EACD,CAFD,IAEO,CACLnB,KAAK,CAACF,KAAN,CAAYqB,YAAZ,EAA0BP,GAA1B,CAAgCZ,KAAK,CAACF,KAAN,CAAYqB,YAAZ,EAA0BP,GAA1B,CAAgC,CAAhE,CACD,CAED,sCAAWZ,KAAX,MAAkBF,KAAK,CAAGoB,gBAA1B,GACF;AAEA,IAAKtB,CAAAA,WAAW,CAACyB,QAAjB,CACEC,YAAY,CAACC,UAAb,CAAwB,WAAxB,EACAD,YAAY,CAACE,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAe1B,KAAK,CAACF,KAArB,CAAlC,EAEF,IAAKF,CAAAA,WAAW,CAAC+B,QAAjB,CACE,GAAIC,CAAAA,IAAI,CAAGN,YAAY,CAACO,OAAb,CAAqB,WAArB,CAAX,CACA,GAAID,IAAI,GAAK,IAAb,CAAmB,CACjB,sCAAW5B,KAAX,MAAkBF,KAAK,CAAE2B,IAAI,CAACK,KAAL,CAAWF,IAAX,CAAzB,GACD,CAEH,IAAKhC,CAAAA,WAAW,CAACmC,UAAjB,CAEE,GAAI/B,KAAK,CAACD,MAAN,GAAiB,IAArB,CAA2B,CACzB,GAAIC,KAAK,CAACD,MAAN,GAAiB,KAArB,CAA4B,CAC1B,sCAAWC,KAAX,MAAkBD,MAAM,CAAE,IAA1B,GACD,CAFD,IAEO,IAAIC,KAAK,CAACD,MAAN,GAAiB,IAArB,CAA2B,CAChC,sCAAWC,KAAX,MAAkBD,MAAM,CAAE,KAA1B,GACD,CACF,CAND,IAMO,IAAIC,KAAK,CAACD,MAAN,GAAiB,KAArB,CAA6B,CAClC,sCAAWC,KAAX,MAAkBD,MAAM,CAAE,IAA1B,GACD,CAFM,IAEA,IAAIC,KAAK,CAACD,MAAN,GAAiB,IAArB,CAA2B,CAChC,GAAIG,OAAJ,CAAa,CACX,sCAAWF,KAAX,MAAkBD,MAAM,CAAE,IAA1B,GACD,CAFD,IAEO,IAAI,CAACG,OAAL,CAAc,CACnB,sCAAWF,KAAX,MAAkBD,MAAM,CAAE,KAA1B,GACD,CACF,CAIH,QACE,MAAOC,CAAAA,KAAP,CA7EJ,CA+ED,CAhFD","sourcesContent":["import { actionTypes } from '../actions/cart.action';\r\n\r\nconst initialState = {\r\n  ITEMS: [],\r\n  ACTIVE: null\r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n  switch (type){\r\n\r\n    //REDUCER ADICIONAR ITEM DO CARRINHO\r\n    case actionTypes.ADD_ITEM:\r\n      let arr_items = state.ITEMS;\r\n      let items = state.ITEMS.findIndex( \r\n        item => item.id === payload.id && item.tamanho === payload.tamanho \r\n      );\r\n      let tam = payload.tamanho;\r\n\r\n      if(items < 0) {\r\n         \r\n        arr_items.push({\r\n          id: payload.id,\r\n          qtd: payload.qtd,\r\n          img: payload.img,\r\n          nome: payload.desc,\r\n          preco: payload.preco,\r\n          tamanho: tam\r\n        });\r\n        \r\n      } else {\r\n\r\n        state.ITEMS[items].qtd = state.ITEMS[items].qtd + 1;\r\n\r\n      }\r\n\r\n      return {...state, ITEMS:  arr_items}\r\n    //!REDUCER ADICIONAR ITEM DO CARRINHO\r\n    \r\n    //REDUCER REMOVER ITEM DO CARRINHO\r\n    case actionTypes.REMOVE_ITEM:\r\n      let remove_arr_items = state.ITEMS;\r\n      let remove_items = state.ITEMS.findIndex( \r\n        item => item.id == payload.id && item.tamanho == payload.tamanho \r\n      );\r\n\r\n      if(state.ITEMS[remove_items].qtd < 2) {\r\n        remove_arr_items.splice(remove_items, 1);\r\n      } else {\r\n        state.ITEMS[remove_items].qtd = state.ITEMS[remove_items].qtd - 1;\r\n      }\r\n\r\n      return {...state, ITEMS:  remove_arr_items}\r\n    //!REDUCER REMOVER ITEM DO CARRINHO\r\n\r\n    case actionTypes.SET_CART:\r\n      localStorage.removeItem('storeCart');\r\n      localStorage.setItem('storeCart', JSON.stringify(state.ITEMS));\r\n\r\n    case actionTypes.GET_CART:\r\n      let cart = localStorage.getItem('storeCart');\r\n      if (cart !== null) {\r\n        return {...state, ITEMS: JSON.parse(cart)}\r\n      }\r\n\r\n    case actionTypes.SET_ACTIVE:\r\n\r\n      if (state.ACTIVE !== null) {\r\n        if (state.ACTIVE === false) {\r\n          return {...state, ACTIVE: true}\r\n        } else if (state.ACTIVE === true) {\r\n          return {...state, ACTIVE: false}\r\n        }\r\n      } else if (state.ACTIVE === false ) {\r\n        return {...state, ACTIVE: true}\r\n      } else if (state.ACTIVE === null) {\r\n        if (payload) {\r\n          return {...state, ACTIVE: true}\r\n        } else if (!payload) {\r\n          return {...state, ACTIVE: false}\r\n        }\r\n      }\r\n      \r\n      \r\n\r\n    default:\r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}